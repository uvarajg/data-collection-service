# Data Collection Service Configuration
# Copy this file to .env and fill in your actual values

# Application Configuration
DEBUG=false
PORT=8000
LOG_LEVEL=INFO
ENVIRONMENT=development

# Data Paths
DATA_BASE_PATH=/workspaces/data
CACHE_BASE_PATH=/workspaces/data/cache

# Alpaca API Configuration
APCA_API_KEY_ID=your_alpaca_key_here
APCA_API_SECRET_KEY=your_alpaca_secret_here  
APCA_API_BASE_URL=https://api.alpaca.markets

# External API Keys
GEMINI_API_KEY=your_gemini_key_here
GOOGLE_API_KEY=your_google_key_here

# Google Sheets Configuration
GOOGLE_SERVICE_ACCOUNT_EMAIL=your_service_account@project.iam.gserviceaccount.com
GOOGLE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\nyour_private_key_here\n-----END PRIVATE KEY-----
ACTIVE_STOCKS_SPREADSHEET_ID=your_spreadsheet_id_here
ACTIVE_STOCKS_SHEET_NAME=MostActive

# API Retry Configuration
API_RETRY_MAX_ATTEMPTS=3
API_RETRY_BASE_DELAY=0.1
API_RETRY_MAX_DELAY=10.0

# Rate Limiting Configuration (requests per second)
ALPACA_RATE_LIMIT=6.0
YFINANCE_RATE_LIMIT=10.0
GOOGLE_SHEETS_RATE_LIMIT=1.0

# Data Collection Configuration
COLLECTION_DELAY_SECONDS=0.1
MAX_CONCURRENT_TICKERS=1

# Technical Indicators Configuration
TECHNICAL_INDICATORS_ENABLED=true
SMA_200_FALLBACK_ENABLED=true

# Fundamental Data Configuration
FUNDAMENTALS_ENABLED=true
FUNDAMENTALS_CACHE_HOURS=4
DEBT_TO_EQUITY_FALLBACK_ENABLED=true
CURRENT_RATIO_FALLBACK_ENABLED=true
PROFIT_MARGIN_FALLBACK_ENABLED=true

# Data Validation Configuration
TECHNICAL_VALIDATION_ENABLED=true
VALIDATION_MOVE_TO_ERRORS=true

# Error Monitoring Configuration
ERROR_RATE_THRESHOLD=0.02
ERROR_MONITORING_WINDOW_HOURS=24

# Cache Configuration
YFINANCE_CACHE_DURATION_HOURS=4
CACHE_CLEANUP_ENABLED=true

# Validation Thresholds (Advanced - JSON format)
# These are the relaxed thresholds implemented in the fixes
# You can override individual values like:
# VALIDATION_THRESHOLDS__PRICE_RELATIVE_BOUNDS__BB_MIDDLE_MIN_RATIO=0.7
# VALIDATION_THRESHOLDS__PRICE_RELATIVE_BOUNDS__BB_MIDDLE_MAX_RATIO=1.4